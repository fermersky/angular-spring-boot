<div class="create-book-container">
  <div class="create-book-form-wrap">
    <form (ngSubmit)="onFormSubmit()" [formGroup]="createBookForm" class="create-book-form">
      <img class="create-book-img" src="../../../assets/images/create-book-draw.svg" alt="" />

      <!-- TITLE FIELD -->

      <mat-form-field class="create-form-field" appearance="fill">
        <mat-label>Title</mat-label>
        <input matInput type="text" [formControl]="title" />
        <mat-hint> </mat-hint>
        <mat-error *ngIf="title.hasError('required')">
          Title is <strong>required</strong>
        </mat-error>
        <mat-error *ngIf="title.hasError('minlength')">
          Title is <strong>too short</strong>
        </mat-error>
        <mat-error *ngIf="title.hasError('maxlength')">
          Title is <strong>too long</strong>
        </mat-error>
      </mat-form-field>

      <!-- END TITLE FIELD -->

      <!-- AUTHOR SELECTION FIELD -->

      <mat-form-field class="create-form-field" appearance="fill">
        <mat-label>Choose from existent authors</mat-label>
        <mat-select [formControl]="authorId" #authorSelect>
          <mat-option *ngFor="let author of authors$ | async" [value]="author.id">
            {{ author.firstname + " " + author.lastname }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="authorId.hasError('required')">
          Author is <strong>required</strong>
        </mat-error>
      </mat-form-field>

      <!-- END AUTHOR SELECTION FIELD -->

      <!-- GENRE FIELD -->

      <mat-form-field class="create-form-field" appearance="fill">
        <mat-label>Genre</mat-label>
        <input matInput type="text" [formControl]="genre" />
        <mat-hint> </mat-hint>
        <mat-error *ngIf="genre.hasError('required')">
          Genre is <strong>required</strong>
        </mat-error>
        <mat-error *ngIf="genre.hasError('minlength')">
          Genre is <strong>too short</strong>
        </mat-error>
        <mat-error *ngIf="genre.hasError('maxlength')">
          Genre is <strong>too long</strong>
        </mat-error>
      </mat-form-field>

      <!-- END GENRE FIELD -->

      <!-- YEAR FIELD -->

      <mat-form-field class="create-form-field" appearance="fill">
        <mat-label>Year</mat-label>
        <input matInput type="number" [formControl]="year" />
        <mat-hint> </mat-hint>
        <mat-error *ngIf="year.hasError('required')"> Year is <strong>required</strong> </mat-error>
        <mat-error *ngIf="year.hasError('minlength')">
          Year is <strong>too short</strong>
        </mat-error>
        <mat-error *ngIf="year.hasError('maxlength')">
          Year is <strong>too long</strong>
        </mat-error>
      </mat-form-field>

      <!-- END YEAR FIELD -->

      <!-- DESCRIPTION FIELD -->

      <mat-form-field class="create-form-field" appearance="fill">
        <mat-label>Description</mat-label>
        <textarea
          style="height: 100px;"
          matInput
          type="number"
          [formControl]="description"
        ></textarea>
        <mat-hint> </mat-hint>
        <mat-error *ngIf="description.hasError('required')">
          Description is <strong>required</strong>
        </mat-error>
        <mat-error *ngIf="description.hasError('minlength')">
          Description is <strong>too short</strong>
        </mat-error>
        <mat-error *ngIf="description.hasError('maxlength')">
          Description is <strong>too long</strong>
        </mat-error>
      </mat-form-field>

      <!-- END DESCRIPTION FIELD -->

      <!-- UPLOAD FILE -->

      <div style="display: flex;">
        <button class="upload-file-btn" type="button" (click)="fileInput.click()">
          <span><i class="fas fa-file"></i>Upload File</span>
          <input
            #fileInput
            type="file"
            (change)="onFileInput($event.target.files)"
            style="display: none;"
          />
        </button>

        <!-- END UPLOAD FILE -->

        <!-- UPLOAD IMAGE -->

        <button class="upload-file-btn" type="button" (click)="fileImageInput.click()">
          <span><i class="fas fa-file-image"></i>Upload Image</span>
          <input
            #fileImageInput
            type="file"
            (change)="onImageInput($event.target.files)"
            style="display: none;"
          />
        </button>
      </div>

      <!-- END UPLOAD IMAGE -->

      <button class="create-book-btn" mat-raised-button color="primary">Create Book</button>
    </form>
  </div>
</div>
